---
import { Image } from 'astro:assets'
import Logo from '../assets/logo.svg'
import Template from '../layouts/Template.astro'
Astro.cookies.set("lang",Astro.cookies.get("lang")!.value,{path:"/",maxAge:31536000})
const pages = [["Home","Projects","Settings"],["Docs →","Form","Learn","News"]]

interface Props {
    page:string
}
const { page } = Astro.props

export const prerender = true
---

<Template className='bg-slate-300 dark:bg-slate-600 text-gray-800 dark:text-gray-50 overflow-hidden' transition={true} title={page!=="Home" ? page:""}>
    <div class="w-full h-10 @hs:5 border-b-slate-400/50 border-b">
        <div class="ml-2 @hs:ml-2 @mb:ml-6 w-[50px] h-full text-left p-0.5">
            <a href="../" class="outline-none group-focus:brightness-150 group">
                <Image src={Logo} alt="W" class="h-full hover:brightness-105 duration-300 group-focus:brightness-105"/>
            </a>
        </div>
    </div>
    <div class="h-[calc(100lvh-40px)] justify-center items-center flex w-full">
        <div class="w-12 @hs:w-6 @mb:w-20 @tb:w-[220px] @lt:w-[280px] h-full grid grid-rows-2 duration-300">
            {[0,1].map(n => 
            <div class={`flex ${n===0 ? "flex-col":"flex-col-reverse"} pb-0.5`}>
                {pages[n].map(e => 
                <a href={e=="Docs →"?"/docs":(e!=="Home")?e.toLowerCase():"../"} tabindex="-1" target={e==="Docs →"?"_blank":""}>
                    <button class={`px-0 @tb:px-12 h-12 @hs:h-6 text-xl w-full flex justify-center py-2 border-slate-400/50 ${n===0?"border-b":"border-t"} duration-300 outline-none focus:outline -outline-offset-1 focus:outline-blue-300/50 ${page==e ? "font-semibold text-lg bg-slate-400/50":"hover:bg-slate-400/20"}`} tabindex={page==e?"-1":""}>
                        <div class="h-full">
                            <Image src={import(`../assets/icons/${e=="Docs →"?"Docs":e}.svg`)} alt={e} class="h-7 @hs:h-5 w-7 @hs:w-5 dark:invert"/>
                        </div>
                        <div class="hidden @hs:hidden @tb:block w-full">
                            {e}
                        </div>
                    </button>
                </a>
                )}
            </div>
            )}
        </div>
        <div class="w-[calc(100%-48px)] @hs:w-[calc(100%-24px)] @mb:w-[calc(100%-80px)] @tb:w-[calc(100%-220px)] @lt:w-[calc(100%-280px)] h-full duration-300">
            <div class="h-full w-full rounded-xl bg-slate-200 dark:bg-slate-700 border-slate-400 border border-t-0 p-2">
                <slot />
            </div>
        </div>
    </div>
</Template>
<style>
*{
    @apply select-none [-webkit-user-drag:none]
}
</style>
